<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CRUD Multi-View 🌟</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Animate.css -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <style>
    body { background: #f0f8ff; }
    .card-container, .list-container { display: flex; flex-wrap: wrap; gap: 20px; margin-top: 20px; }
    .crud-card { width: 250px; transition: transform 0.3s; }
    .crud-card:hover { transform: translateY(-5px) scale(1.02); }
    .btn-emoji { font-size: 1.2rem; }
    .view-btns button { margin-right: 5px; }
  </style>
</head>
<body>

<div class="container">
  <div class="card shadow-lg animate__animated animate__fadeInDown mt-4">
    <div class="card-header bg-info text-white d-flex justify-content-between align-items-center">
      <h3 class="mb-0">📝 CRUD Multi-View</h3>
      <div class="view-btns">
        <button class="btn btn-light btn-sm" onclick="changeView('table')">📊 Table</button>
        <button class="btn btn-light btn-sm" onclick="changeView('card')">🃏 Card</button>
        <button class="btn btn-light btn-sm" onclick="changeView('list')">📃 List</button>
      </div>
    </div>
    <div class="card-body">
      <!-- Form -->
      <form id="crudForm" class="mb-3 row g-2">
        <div class="col-md-4">
          <input type="text" id="name" class="form-control" placeholder="Enter Name 😃" required>
        </div>
        <div class="col-md-4">
          <input type="email" id="email" class="form-control" placeholder="Enter Email 📧" required>
        </div>
        <div class="col-md-4">
          <button type="submit" class="btn btn-success w-100 animate__animated animate__bounce">➕ Add</button>
        </div>
      </form>

      <!-- Views -->
      <div id="crudViews">
        <!-- Table View -->
        <table class="table table-striped table-hover animate__animated animate__fadeInUp" id="tableView">
          <thead class="table-dark">
            <tr>
              <th>#️⃣</th>
              <th>Name 😃</th>
              <th>Email 📧</th>
              <th>Actions ⚡</th>
            </tr>
          </thead>
          <tbody id="crudTable"></tbody>
        </table>

        <!-- Card View -->
        <div class="card-container" id="cardView" style="display:none;"></div>

        <!-- List View -->
        <ul class="list-group list-container" id="listView" style="display:none;"></ul>
      </div>
    </div>
  </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
  let data = [];
  let editIndex = -1;
  let currentView = 'table';

  const form = document.getElementById('crudForm');
  const table = document.getElementById('crudTable');
  const cardContainer = document.getElementById('cardView');
  const listContainer = document.getElementById('listView');

  form.addEventListener('submit', function(e){
    e.preventDefault();
    const name = document.getElementById('name').value.trim();
    const email = document.getElementById('email').value.trim();

    if(editIndex === -1){
      data.push({name, email});
      showAlert('✅ Added!', 'success');
    } else {
      data[editIndex] = {name, email};
      showAlert('✏️ Updated!', 'info');
      editIndex = -1;
    }

    form.reset();
    renderViews();
  });

  function renderViews(){
    // Table View
    table.innerHTML = '';
    data.forEach((item, index) => {
      table.innerHTML += `
        <tr class="animate__animated animate__fadeIn">
          <td>${index+1}</td>
          <td>${item.name}</td>
          <td>${item.email}</td>
          <td>
            <button class="btn btn-warning btn-sm btn-emoji" onclick="editItem(${index})">✏️</button>
            <button class="btn btn-danger btn-sm btn-emoji" onclick="deleteItem(${index})">🗑️</button>
          </td>
        </tr>
      `;
    });

    // Card View
    cardContainer.innerHTML = '';
    data.forEach((item,index) => {
      const card = document.createElement('div');
      card.className = 'card crud-card shadow animate__animated animate__fadeIn';
      card.innerHTML = `
        <div class="card-body">
          <h5 class="card-title">😃 ${item.name}</h5>
          <p class="card-text">📧 ${item.email}</p>
          <div class="d-flex justify-content-between">
            <button class="btn btn-warning btn-sm btn-emoji" onclick="editItem(${index})">✏️ Edit</button>
            <button class="btn btn-danger btn-sm btn-emoji" onclick="deleteItem(${index})">🗑️ Delete</button>
          </div>
        </div>
      `;
      cardContainer.appendChild(card);
    });

    // List View
    listContainer.innerHTML = '';
    data.forEach((item,index)=>{
      const li = document.createElement('li');
      li.className = 'list-group-item d-flex justify-content-between align-items-center animate__animated animate__fadeIn';
      li.innerHTML = `😃 ${item.name} | 📧 ${item.email}
        <span>
          <button class="btn btn-warning btn-sm btn-emoji me-1" onclick="editItem(${index})">✏️</button>
          <button class="btn btn-danger btn-sm btn-emoji" onclick="deleteItem(${index})">🗑️</button>
        </span>`;
      listContainer.appendChild(li);
    });
  }

  function editItem(index){
    document.getElementById('name').value = data[index].name;
    document.getElementById('email').value = data[index].email;
    editIndex = index;
  }

  function deleteItem(index){
    data.splice(index,1);
    showAlert('🗑️ Deleted!', 'danger');
    renderViews();
  }

  function showAlert(message, type){
    const alertDiv = document.createElement('div');
    alertDiv.className = `alert alert-${type} animate__animated animate__fadeInDown`;
    alertDiv.innerText = message;
    document.body.prepend(alertDiv);
    setTimeout(() => alertDiv.remove(), 2000);
  }

  function changeView(view){
    currentView = view;
    document.getElementById('tableView').style.display = (view==='table')?'table':'none';
    document.getElementById('cardView').style.display = (view==='card')?'flex':'none';
    document.getElementById('listView').style.display = (view==='list')?'block':'none';
  }

  renderViews();
</script>

</body>
</html>
